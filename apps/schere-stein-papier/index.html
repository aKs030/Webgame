<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Schere Stein Papier</title>
    <meta
      name="description"
      content="Der Klassiker gegen den Computer! W√§hle Schere, Stein oder Papier und tritt gegen die KI an."
    />
    <link rel="stylesheet" href="style.css" />
    <!-- Optimized: No External Frameworks -->
    <link rel="stylesheet" href="../../card-integration.css" />
    <script src="../../card-fit.js" defer></script>
  </head>
  <body>
    <div class="game-container">
      <h1>üéÆ Schere Stein Papier</h1>

      <div class="score">
        <div>Du: <span id="playerScore">0</span></div>
        <div>Computer: <span id="computerScore">0</span></div>
      </div>

      <div class="choices">
        <button class="choice-btn" onclick="playGame('rock')">ü™®</button>
        <button class="choice-btn" onclick="playGame('paper')">üìÑ</button>
        <button class="choice-btn" onclick="playGame('scissors')">‚úÇÔ∏è</button>
      </div>

      <div class="battle">
        <div id="playerChoice">‚ùì</div>
        <div class="vs">VS</div>
        <div id="computerChoice">‚ùì</div>
      </div>

      <div class="result" id="result">W√§hle deine Waffe!</div>

      <button class="reset-btn" onclick="resetGame()">Neues Spiel</button>
    </div>

    <script>
      let playerScore = 0;
      let computerScore = 0;

      const choices = {
        rock: "ü™®",
        paper: "üìÑ",
        scissors: "‚úÇÔ∏è",
      };

      const choiceNames = {
        rock: "Stein",
        paper: "Papier",
        scissors: "Schere",
      };

      function getComputerChoice() {
        const options = ["rock", "paper", "scissors"];
        return options[Math.floor(Math.random() * options.length)];
      }

      function determineWinner(playerChoice, computerChoice) {
        if (playerChoice === computerChoice) {
          return "tie";
        }

        if (
          (playerChoice === "rock" && computerChoice === "scissors") ||
          (playerChoice === "paper" && computerChoice === "rock") ||
          (playerChoice === "scissors" && computerChoice === "paper")
        ) {
          return "player";
        }

        return "computer";
      }

      function playGame(playerChoice) {
        const computerChoice = getComputerChoice();
        const winner = determineWinner(playerChoice, computerChoice);

        // Update display
        document.getElementById("playerChoice").textContent =
          choices[playerChoice];
        document.getElementById("computerChoice").textContent =
          choices[computerChoice];

        // Update result
        const resultElement = document.getElementById("result");
        if (winner === "tie") {
          resultElement.textContent = `Unentschieden! Beide w√§hlten ${choiceNames[playerChoice]}.`;
          resultElement.style.color = "#ffd700";
        } else if (winner === "player") {
          playerScore++;
          resultElement.textContent = `Du gewinnst! ${choiceNames[playerChoice]} schl√§gt ${choiceNames[computerChoice]}.`;
          resultElement.style.color = "#4ade80";
        } else {
          computerScore++;
          resultElement.textContent = `Computer gewinnt! ${choiceNames[computerChoice]} schl√§gt ${choiceNames[playerChoice]}.`;
          resultElement.style.color = "#f87171";
        }

        // Update score
        document.getElementById("playerScore").textContent = playerScore;
        document.getElementById("computerScore").textContent = computerScore;
      }

      function resetGame() {
        playerScore = 0;
        computerScore = 0;
        document.getElementById("playerScore").textContent = "0";
        document.getElementById("computerScore").textContent = "0";
        document.getElementById("playerChoice").textContent = "‚ùì";
        document.getElementById("computerChoice").textContent = "‚ùì";
        document.getElementById("result").textContent = "W√§hle deine Waffe!";
        document.getElementById("result").style.color = "white";
      }
    </script>
  </body>
</html>
